

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ballet.eng.external.category_encoders module &mdash; ballet 0.15.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ballet.eng.external.feature_engine module" href="ballet.eng.external.feature_engine.html" />
    <link rel="prev" title="ballet.eng.external package" href="ballet.eng.external.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ballet
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#next-steps">Next steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#source-code-organization">Source code organization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#stable-release">Stable release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#from-source">From source</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../maintainer_guide.html">Maintainer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../maintainer_guide.html#creating-a-ballet-project">Creating a Ballet project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maintainer_guide.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintainer_guide.html#project-instantiation">Project instantiation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintainer_guide.html#project-installation">Project installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintainer_guide.html#collaboration-via-git-and-github">Collaboration via git and GitHub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maintainer_guide.html#automatic-repository-creation">Automatic repository creation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maintainer_guide.html#manual-repository-creation">Manual repository creation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maintainer_guide.html#enabling-continuous-integration">Enabling continuous integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintainer_guide.html#installing-bots">Installing bots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../maintainer_guide.html#configuring-the-project">Configuring the project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maintainer_guide.html#developing-new-features">Developing new features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maintainer_guide.html#validating-features">Validating features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintainer_guide.html#pruning-features">Pruning features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../maintainer_guide.html#applying-the-feature-engineering-pipeline">Applying the feature engineering pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maintainer_guide.html#updating-the-framework">Updating the framework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributor_guide.html">Contributor Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributor_guide.html#cloud-feature-development-workflow">Cloud Feature Development Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#launch-assemble">Launch Assemblé</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#work-in-a-notebook">Work in a notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#authenticate-with-github">Authenticate with GitHub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#develop-a-new-feature">Develop a new feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#test-your-feature">Test your feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#submit-your-feature">Submit your feature</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributor_guide.html#local-feature-development-workflow">Local Feature Development Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#setup-your-development-environment">Setup your development environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#fork-the-project">Fork the project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#clone-your-fork">Clone your fork</a></li>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#create-a-virtualenv">Create a virtualenv</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#contributor-guide-develop-a-new-feature-local">Develop a new feature</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#update-and-install-the-project">Update and install the project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#start-working-on-a-new-feature">Start working on a new feature</a></li>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#write-your-feature">Write your feature</a></li>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#contributor-guide-test-your-feature-local">Test your feature</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../contributor_guide.html#submit-the-feature">Submit the feature</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#option-1-git-workflow">Option 1: Git workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../contributor_guide.html#option-2-in-lab-workflow">Option 2: In-Lab Workflow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributor_guide.html#understanding-validation-results">Understanding Validation Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributor_guide.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../feature_engineering_guide.html">Feature Engineering Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../feature_engineering_guide.html#feature-definitions">Feature Definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#why">Why?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../feature_engineering_guide.html#writing-features">Writing features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#a-first-example">A first example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#a-second-example">A second example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#a-third-example">A third example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#input-types-and-conversions">Input types and conversions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#transformers">Transformers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#feature-engineering-pipelines">Feature engineering pipelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../feature_engineering_guide.html#feature-engineering-primitives">Feature engineering primitives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#operating-on-groups">Operating on groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#addressing-missing-values">Addressing missing values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#operating-on-time-series-data">Operating on time series data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#other-primitives">Other primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#external-libraries">External libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../feature_engineering_guide.html#pandas-ballet-examples">Pandas ⇔ Ballet Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_engineering_guide.html#rolling-your-own-transformers">Rolling your own transformers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../feature_engineering_guide.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../feature_engineering_guide.html#further-reading">Further reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#how-can-i-check-the-performance-of-a-feature">How can I check the performance of a feature?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#there-was-an-error-submitting-my-feature-using-assemble-in-jupyter-lab">There was an error submitting my feature using Assemblé in Jupyter Lab.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#my-feature-has-a-valid-api-locally-why-was-it-rejected">My feature has a valid API locally, why was it rejected?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#why-did-my-feature-fail-the-feature-acceptance-validation">Why did my feature fail the feature acceptance validation?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#my-feature-relies-on-a-new-library-how-can-i-add-it-to-the-project">My feature relies on a new library, how can I add it to the project?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#how-can-i-learn-to-write-better-features">How can I learn to write better features?</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="ballet.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ballet.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="ballet.eng.html">ballet.eng package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="ballet.eng.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="ballet.eng.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ballet.util.html">ballet.util package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ballet.util.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ballet.validation.html">ballet.validation package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ballet.validation.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="ballet.validation.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ballet.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ballet.cli.html">ballet.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.client.html">ballet.client module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.compat.html">ballet.compat module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.contrib.html">ballet.contrib module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.discovery.html">ballet.discovery module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.exc.html">ballet.exc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.feature.html">ballet.feature module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.pipeline.html">ballet.pipeline module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.project.html">ballet.project module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.templating.html">ballet.templating module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.transformer.html">ballet.transformer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ballet.update.html">ballet.update module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli_reference.html">CLI Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference.html#ballet-quickstart">quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference.html#ballet-start-new-feature">start-new-feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference.html#ballet-update-project-template">update-project-template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference.html#ballet-validate">validate</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Development Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#types-of-contributions">Types of Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#report-bugs">Report Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#fix-bugs">Fix Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#implement-features">Implement Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#write-documentation">Write Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#submit-feedback">Submit Feedback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#pull-request-guidelines">Pull Request Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#tips">Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#deploying">Deploying</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../authors.html#development-lead">Development Lead</a></li>
<li class="toctree-l2"><a class="reference internal" href="../authors.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id1">0.15.2 (2021-05-14)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id2">0.15.1 (2021-05-12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id3">0.15.0 (2021-05-12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id5">0.14.0 (2021-05-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id9">0.13.1 (2021-04-02)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id10">0.13.0 (2021-03-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id11">0.12.0 (2021-03-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id12">0.11.0 (2021-03-04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id13">0.10.0 (2021-02-23)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id14">0.9.0 (2021-02-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id15">0.8.2 (2021-02-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id16">0.8.1 (2021-02-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id17">0.8.0 (2021-02-02)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id18">0.7.11 (2020-09-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id19">0.7.10 (2020-09-08)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id20">0.7.9 (2020-08-15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id21">0.7.8 (2020-08-13)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id22">0.7.7 (2020-08-12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id23">0.7.6 (2020-08-12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id24">0.7.5 (2020-08-03)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id25">0.7.4 (2020-07-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id26">0.7.3 (2020-07-21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id27">0.7.2 (2020-07-21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id28">0.7.1 (2020-07-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id29">0.7 (2020-07-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id30">0.6 (2019-11-12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id31">0.5 (2018-10-14)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id32">0.4 (2018-09-21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id33">0.3 (2018-04-28)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id34">0.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id35">0.1</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ballet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="ballet.html">ballet package</a> &raquo;</li>
        
          <li><a href="ballet.eng.html">ballet.eng package</a> &raquo;</li>
        
          <li><a href="ballet.eng.external.html">ballet.eng.external package</a> &raquo;</li>
        
      <li>ballet.eng.external.category_encoders module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/ballet/ballet/blob/master/docs/api/ballet.eng.external.category_encoders.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ballet.eng.external.category_encoders">
<span id="ballet-eng-external-category-encoders-module"></span><h1>ballet.eng.external.category_encoders module<a class="headerlink" href="#module-ballet.eng.external.category_encoders" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="ballet.eng.external.category_encoders.BackwardDifferenceEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">BackwardDifferenceEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/backward_difference.html#BackwardDifferenceEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BackwardDifferenceEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Backward difference contrast coding for encoding categorical variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has unknown categories.  This can cause
unexpected changes in dimension in some cases.</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has nan values.  This can cause
unexpected changes in dimension in some cases.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">BackwardDifferenceEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 21 columns):</span>
<span class="go">intercept    506 non-null int64</span>
<span class="go">CRIM         506 non-null float64</span>
<span class="go">ZN           506 non-null float64</span>
<span class="go">INDUS        506 non-null float64</span>
<span class="go">CHAS_0       506 non-null float64</span>
<span class="go">NOX          506 non-null float64</span>
<span class="go">RM           506 non-null float64</span>
<span class="go">AGE          506 non-null float64</span>
<span class="go">DIS          506 non-null float64</span>
<span class="go">RAD_0        506 non-null float64</span>
<span class="go">RAD_1        506 non-null float64</span>
<span class="go">RAD_2        506 non-null float64</span>
<span class="go">RAD_3        506 non-null float64</span>
<span class="go">RAD_4        506 non-null float64</span>
<span class="go">RAD_5        506 non-null float64</span>
<span class="go">RAD_6        506 non-null float64</span>
<span class="go">RAD_7        506 non-null float64</span>
<span class="go">TAX          506 non-null float64</span>
<span class="go">PTRATIO      506 non-null float64</span>
<span class="go">B            506 non-null float64</span>
<span class="go">LSTAT        506 non-null float64</span>
<span class="go">dtypes: float64(20), int64(1)</span>
<span class="go">memory usage: 83.1 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id1"><span class="brackets">1</span></dt>
<dd><p>Contrast Coding Systems for Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/">https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/</a></p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets">2</span></dt>
<dd><p>Gregory Carey (2003). Coding Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf">http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BackwardDifferenceEncoder.backward_difference_coding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">backward_difference_coding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/backward_difference.html#BackwardDifferenceEncoder.backward_difference_coding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BackwardDifferenceEncoder.backward_difference_coding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BackwardDifferenceEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/backward_difference.html#BackwardDifferenceEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BackwardDifferenceEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits an ordinal encoder to produce a consistent mapping across applications and optionally finds
generally invariant columns to drop consistently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BackwardDifferenceEncoder.fit_backward_difference_coding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fit_backward_difference_coding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/backward_difference.html#BackwardDifferenceEncoder.fit_backward_difference_coding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BackwardDifferenceEncoder.fit_backward_difference_coding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BackwardDifferenceEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/backward_difference.html#BackwardDifferenceEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BackwardDifferenceEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BackwardDifferenceEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/backward_difference.html#BackwardDifferenceEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BackwardDifferenceEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">BaseNEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Base-N encoder encodes the categories into arrays of their base-N representation.  A base of 1 is equivalent to
one-hot encoding (not really base-1, but useful), a base of 2 is equivalent to binary encoding. N=number of actual
categories is equivalent to vanilla ordinal encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>base</strong> (<em>int</em>) – when the downstream model copes well with nonlinearities (like decision tree), use higher base.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has unknown categories.  This can cause
unexpected changes in dimension in some cases.</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has nan values.  This can cause
unexpected changes in dimension in some cases.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">BaseNEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 18 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS_0     506 non-null int64</span>
<span class="go">CHAS_1     506 non-null int64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD_0      506 non-null int64</span>
<span class="go">RAD_1      506 non-null int64</span>
<span class="go">RAD_2      506 non-null int64</span>
<span class="go">RAD_3      506 non-null int64</span>
<span class="go">RAD_4      506 non-null int64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(11), int64(7)</span>
<span class="go">memory usage: 71.3 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.basen_encode">
<code class="sig-name descname"><span class="pre">basen_encode</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.basen_encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.basen_encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Basen encoding encodes the integers as basen code with one column per digit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_in</strong> (<em>DataFrame</em>) – </p></li>
<li><p><strong>cols</strong> (<em>list-like</em><em>, </em><em>default None</em>) – Column names in the DataFrame to be encoded</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dummies</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.basen_to_integer">
<code class="sig-name descname"><span class="pre">basen_to_integer</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.basen_to_integer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.basen_to_integer" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert basen code as integers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>DataFrame</em>) – encoded data</p></li>
<li><p><strong>cols</strong> (<em>list-like</em>) – Column names in the DataFrame that be encoded</p></li>
<li><p><strong>base</strong> (<em>int</em>) – The base of transform</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>numerical</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.calc_required_digits">
<code class="sig-name descname"><span class="pre">calc_required_digits</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.calc_required_digits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.calc_required_digits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.col_transform">
<code class="sig-name descname"><span class="pre">col_transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.col_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.col_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>The lambda body to transform the column values</p>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.fit_base_n_encoding">
<code class="sig-name descname"><span class="pre">fit_base_n_encoding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.fit_base_n_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.fit_base_n_encoding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.inverse_transform">
<code class="sig-name descname"><span class="pre">inverse_transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.inverse_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.inverse_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the inverse transformation to encoded data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X_in</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, the same size of X_in</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.number_to_base">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">number_to_base</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.number_to_base"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.number_to_base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BaseNEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/basen.html#BaseNEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BaseNEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.BinaryEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">BinaryEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/binary.html#BinaryEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BinaryEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Binary encoding for categorical variables, similar to onehot, but stores categories as binary bitstrings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has unknown categories.  This can cause
unexpected changes in dimension in some cases.</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has nan values.  This can cause
unexpected changes in dimension in some cases.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">BinaryEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 18 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS_0     506 non-null int64</span>
<span class="go">CHAS_1     506 non-null int64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD_0      506 non-null int64</span>
<span class="go">RAD_1      506 non-null int64</span>
<span class="go">RAD_2      506 non-null int64</span>
<span class="go">RAD_3      506 non-null int64</span>
<span class="go">RAD_4      506 non-null int64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(11), int64(7)</span>
<span class="go">memory usage: 71.3 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BinaryEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/binary.html#BinaryEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BinaryEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BinaryEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/binary.html#BinaryEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BinaryEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BinaryEncoder.inverse_transform">
<code class="sig-name descname"><span class="pre">inverse_transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/binary.html#BinaryEncoder.inverse_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BinaryEncoder.inverse_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the inverse transformation to encoded data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X_in</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, the same size of X_in</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.BinaryEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/binary.html#BinaryEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.BinaryEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.CatBoostEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">CatBoostEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/cat_boost.html#CatBoostEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.CatBoostEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">category_encoders.utils.TransformerWithTargetMixin</span></code></p>
<p>CatBoost coding for categorical features.</p>
<p>This is very similar to leave-one-out encoding, but calculates the
values “on-the-fly”. Consequently, the values naturally vary
during the training phase and it is not necessary to add random noise.</p>
<p>Beware, the training data have to be randomly permutated. E.g.:</p>
<blockquote>
<div><p># Random permutation
perm = np.random.permutation(len(X))
X = X.iloc[perm].reset_index(drop=True)
y = y.iloc[perm].reset_index(drop=True)</p>
</div></blockquote>
<p>This is necessary because some data sets are sorted based on the target
value and this coder encodes the features on-the-fly in a single pass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’  and ‘value’, defaults to ‘value’, which returns the target mean.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’ and ‘value’, defaults to ‘value’, which returns the target mean.</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – adds normal (Gaussian) distribution noise into training data in order to decrease overfitting (testing data are untouched).
sigma gives the standard deviation (spread or “width”) of the normal distribution.</p></li>
<li><p><strong>a</strong> (<em>float</em>) – additive smoothing (it is the same variable as “m” in m-probability estimate). By default set to 1.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">CatBoostEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 13 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS       506 non-null float64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD        506 non-null float64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(13)</span>
<span class="go">memory usage: 51.5 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets">1</span></dt>
<dd><p>Transforming categorical features to numerical features, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://tech.yandex.com/catboost/doc/dg/concepts/algorithm-main-stages_cat-to-numberic-docpage/">https://tech.yandex.com/catboost/doc/dg/concepts/algorithm-main-stages_cat-to-numberic-docpage/</a></p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets">2</span></dt>
<dd><p>CatBoost: unbiased boosting with categorical features, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://arxiv.org/abs/1706.09516">https://arxiv.org/abs/1706.09516</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.CatBoostEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/cat_boost.html#CatBoostEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.CatBoostEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.CatBoostEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/cat_boost.html#CatBoostEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.CatBoostEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.CatBoostEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/cat_boost.html#CatBoostEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.CatBoostEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>] </em><em>when transform by leave one out</em>) – None, when transform without target information (such as transform test set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.CountEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">CountEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'count'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_group_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_min_nan_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_group_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/count.html#CountEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.CountEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.CountEncoder.combine_min_categories">
<code class="sig-name descname"><span class="pre">combine_min_categories</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/count.html#CountEncoder.combine_min_categories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.CountEncoder.combine_min_categories" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine small categories into a single category.</p>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.CountEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/count.html#CountEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.CountEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.CountEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/count.html#CountEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.CountEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.GLMMEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">GLMMEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binomial_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/glmm.html#GLMMEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.GLMMEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">category_encoders.utils.TransformerWithTargetMixin</span></code></p>
<p>Generalized linear mixed model.</p>
<p>This is a supervised encoder similar to TargetEncoder or MEstimateEncoder, but there are some advantages:
1) Solid statistical theory behind the technique. Mixed effects models are a mature branch of statistics.
2) No hyper-parameters to tune. The amount of shrinkage is automatically determined through the estimation process.
In short, the less observations a category has and/or the more the outcome varies for a category
then the higher the regularization towards “the prior” or “grand mean”.
3) The technique is applicable for both continuous and binomial targets. If the target is continuous,
the encoder returns regularized difference of the observation’s category from the global mean.
If the target is binomial, the encoder returns regularized log odds per category.</p>
<p>In comparison to JamesSteinEstimator, this encoder utilizes generalized linear mixed models from statsmodels library.</p>
<p>Note: This is an alpha implementation. The API of the method may change in the future.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop encoded columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘return_nan’, ‘error’ and ‘value’, defaults to ‘value’, which returns 0.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘return_nan’, ‘error’ and ‘value’, defaults to ‘value’, which returns 0.</p></li>
<li><p><strong>randomized</strong> (<em>bool</em><em>,</em>) – adds normal (Gaussian) distribution noise into training data in order to decrease overfitting (testing data are untouched).</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation (spread or “width”) of the normal distribution.</p></li>
<li><p><strong>binomial_target</strong> (<em>bool</em>) – if True, the target must be binomial with values {0, 1} and Binomial mixed model is used.
If False, the target must be continuous and Linear mixed model is used.
If None (the default), a heuristic is applied to estimate the target type.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span> <span class="o">&gt;</span> <span class="mf">22.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">GLMMEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 13 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS       506 non-null float64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD        506 non-null float64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(13)</span>
<span class="go">memory usage: 51.5 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets">1</span></dt>
<dd><p>Data Analysis Using Regression and Multilevel/Hierarchical Models, page 253, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://faculty.psau.edu.sa/filedownload/doc-12-pdf-a1997d0d31f84d13c1cdc44ac39a8f2c-original.pdf">https://faculty.psau.edu.sa/filedownload/doc-12-pdf-a1997d0d31f84d13c1cdc44ac39a8f2c-original.pdf</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.GLMMEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/glmm.html#GLMMEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.GLMMEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and binary y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Binary target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.GLMMEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/glmm.html#GLMMEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.GLMMEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.GLMMEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/glmm.html#GLMMEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.GLMMEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<p>When the data are used for model training, it is important to also pass the target in order to apply leave one out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>] </em><em>when transform by leave one out</em>) – None, when transform without target information (such as transform test set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.HashingEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">HashingEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_process</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_components</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'md5'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/hashing.html#HashingEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HashingEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>A multivariate hashing implementation with configurable dimensionality/precision.</p>
<p>The advantage of this encoder is that it does not maintain a dictionary of observed categories.
Consequently, the encoder does not grow in size and accepts new values during data scoring
by design.</p>
<p>It’s important to read about how max_process &amp; max_sample work
before setting them manually, inappropriate setting slows down encoding.</p>
<p>Default value of ‘max_process’ is 1 on Windows because multiprocessing might cause issues, see in :
<a class="reference external" href="https://github.com/scikit-learn-contrib/categorical-encoding/issues/215">https://github.com/scikit-learn-contrib/categorical-encoding/issues/215</a>
<a class="reference external" href="https://docs.python.org/2/library/multiprocessing.html?highlight=process#windows">https://docs.python.org/2/library/multiprocessing.html?highlight=process#windows</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>hash_method</strong> (<em>str</em>) – which hashing method to use. Any method from hashlib works.</p></li>
<li><p><strong>max_process</strong> (<em>int</em>) – how many processes to use in transform(). Limited in range(1, 64).
By default, it uses half of the logical CPUs.
For example, 4C4T makes max_process=2, 4C8T makes max_process=4.
Set it larger if you have a strong CPU.
It is not recommended to set it larger than is the count of the
logical CPUs as it will actually slow down the encoding.</p></li>
<li><p><strong>max_sample</strong> (<em>int</em>) – how many samples to encode by each process at a time.
This setting is useful on low memory machines.
By default, max_sample=(all samples num)/(max_process).
For example, 4C8T CPU with 100,000 samples makes max_sample=25,000,
6C12T CPU with 100,000 samples makes max_sample=16,666.
It is not recommended to set it larger than the default value.</p></li>
<li><p><strong>n_components</strong> (<em>int</em>) – how many bits to use to represent the feature. By default we use 8 bits.
For high-cardinality features, consider using up-to 32 bits.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders.hashing</span> <span class="kn">import</span> <span class="n">HashingEncoder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">he</span> <span class="o">=</span> <span class="n">HashingEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">he</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 19 columns):</span>
<span class="go">col_0      506 non-null int64</span>
<span class="go">col_1      506 non-null int64</span>
<span class="go">col_2      506 non-null int64</span>
<span class="go">col_3      506 non-null int64</span>
<span class="go">col_4      506 non-null int64</span>
<span class="go">col_5      506 non-null int64</span>
<span class="go">col_6      506 non-null int64</span>
<span class="go">col_7      506 non-null int64</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(11), int64(8)</span>
<span class="go">memory usage: 75.2 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id6"><span class="brackets">1</span></dt>
<dd><p>Feature Hashing for Large Scale Multitask Learning, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://alex.smola.org/papers/2009/Weinbergeretal09.pdf">https://alex.smola.org/papers/2009/Weinbergeretal09.pdf</a>
.. [2] Don’t be tricked by the Hashing Trick, from
<a class="reference external" href="https://booking.ai/dont-be-tricked-by-the-hashing-trick-192a6aae3087">https://booking.ai/dont-be-tricked-by-the-hashing-trick-192a6aae3087</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HashingEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/hashing.html#HashingEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HashingEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HashingEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/hashing.html#HashingEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HashingEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HashingEncoder.hashing_trick">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">hashing_trick</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashing_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'md5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/hashing.html#HashingEncoder.hashing_trick"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HashingEncoder.hashing_trick" title="Permalink to this definition">¶</a></dt>
<dd><p>A basic hashing implementation with configurable dimensionality/precision</p>
<p>Performs the hashing trick on a pandas dataframe, <cite>X</cite>, using the hashing method from hashlib
identified by <cite>hashing_method</cite>.  The number of output dimensions (<cite>N</cite>), and columns to hash (<cite>cols</cite>) are
also configurable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_in</strong> (<em>pandas dataframe</em>) – description text</p></li>
<li><p><strong>hashing_method</strong> (<em>string</em><em>, </em><em>optional</em>) – description text</p></li>
<li><p><strong>N</strong> (<em>int</em><em>, </em><em>optional</em>) – description text</p></li>
<li><p><strong>cols</strong> (<em>list</em><em>, </em><em>optional</em>) – description text</p></li>
<li><p><strong>make_copy</strong> (<em>bool</em><em>, </em><em>optional</em>) – description text</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – A hashing encoded dataframe.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dataframe</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>Cite the relevant literature, e.g. <a href="#id29"><span class="problematic" id="id7">[1]_</span></a>.  You may also cite these
references in the notes section above.
.. [1] Kilian Weinberger; Anirban Dasgupta; John Langford; Alex Smola; Josh Attenberg (2009). Feature Hashing
for Large Scale Multitask Learning. Proc. ICML.</p>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HashingEncoder.require_data">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">require_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_lock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">done_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashing_parts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/hashing.html#HashingEncoder.require_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HashingEncoder.require_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HashingEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/hashing.html#HashingEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HashingEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Call _transform() if you want to use single CPU with all samples</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.HelmertEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">HelmertEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/helmert.html#HelmertEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HelmertEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Helmert contrast coding for encoding categorical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has unknown categories.  This can cause
unexpected changes in dimension in some cases.</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has nan values.  This can cause
unexpected changes in dimension in some cases.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">HelmertEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">],</span> <span class="n">handle_unknown</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">handle_missing</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 21 columns):</span>
<span class="go">intercept    506 non-null int64</span>
<span class="go">CRIM         506 non-null float64</span>
<span class="go">ZN           506 non-null float64</span>
<span class="go">INDUS        506 non-null float64</span>
<span class="go">CHAS_0       506 non-null float64</span>
<span class="go">NOX          506 non-null float64</span>
<span class="go">RM           506 non-null float64</span>
<span class="go">AGE          506 non-null float64</span>
<span class="go">DIS          506 non-null float64</span>
<span class="go">RAD_0        506 non-null float64</span>
<span class="go">RAD_1        506 non-null float64</span>
<span class="go">RAD_2        506 non-null float64</span>
<span class="go">RAD_3        506 non-null float64</span>
<span class="go">RAD_4        506 non-null float64</span>
<span class="go">RAD_5        506 non-null float64</span>
<span class="go">RAD_6        506 non-null float64</span>
<span class="go">RAD_7        506 non-null float64</span>
<span class="go">TAX          506 non-null float64</span>
<span class="go">PTRATIO      506 non-null float64</span>
<span class="go">B            506 non-null float64</span>
<span class="go">LSTAT        506 non-null float64</span>
<span class="go">dtypes: float64(20), int64(1)</span>
<span class="go">memory usage: 83.1 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id8"><span class="brackets">1</span></dt>
<dd><p>Contrast Coding Systems for Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/">https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/</a></p>
<dl class="footnote brackets">
<dt class="label" id="id9"><span class="brackets">2</span></dt>
<dd><p>Gregory Carey (2003). Coding Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf">http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HelmertEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/helmert.html#HelmertEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HelmertEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HelmertEncoder.fit_helmert_coding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fit_helmert_coding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/helmert.html#HelmertEncoder.fit_helmert_coding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HelmertEncoder.fit_helmert_coding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HelmertEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/helmert.html#HelmertEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HelmertEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HelmertEncoder.helmert_coding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">helmert_coding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/helmert.html#HelmertEncoder.helmert_coding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HelmertEncoder.helmert_coding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.HelmertEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/helmert.html#HelmertEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.HelmertEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.JamesSteinEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">JamesSteinEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'independent'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/james_stein.html#JamesSteinEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.JamesSteinEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">category_encoders.utils.TransformerWithTargetMixin</span></code></p>
<p>James-Stein estimator.</p>
<p>For feature value <cite>i</cite>, James-Stein estimator returns a weighted average of:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The mean target value for the observed feature value <cite>i</cite>.</p></li>
<li><p>The mean target value (regardless of the feature value).</p></li>
</ol>
</div></blockquote>
<p>This can be written as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">JS_i</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">B</span><span class="p">)</span><span class="o">*</span><span class="n">mean</span><span class="p">(</span><span class="n">y_i</span><span class="p">)</span> <span class="o">+</span> <span class="n">B</span><span class="o">*</span><span class="n">mean</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>The question is, what should be the weight <cite>B</cite>?
If we put too much weight on the conditional mean value, we will overfit.
If we put too much weight on the global mean, we will underfit.
The canonical solution in machine learning is to perform cross-validation.
However, Charles Stein came with a closed-form solution to the problem.
The intuition is: If the estimate of <cite>mean(y_i)</cite> is unreliable (<cite>y_i</cite> has high variance),
we should put more weight on <cite>mean(y)</cite>. Stein put it into an equation as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">B</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="n">y_i</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">y_i</span><span class="p">)</span><span class="o">+</span><span class="n">var</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>The only remaining issue is that we do not know <cite>var(y)</cite>, let alone <cite>var(y_i)</cite>.
Hence, we have to estimate the variances. But how can we reliably estimate the
variances, when we already struggle with the estimation of the mean values?!
There are multiple solutions:</p>
<blockquote>
<div><p>1. If we have the same count of observations for each feature value <cite>i</cite> and all
<cite>y_i</cite> are close to each other, we can pretend that all <cite>var(y_i)</cite> are identical.
This is called a pooled model.
2. If the observation counts are not equal, it makes sense to replace the variances
with squared standard errors, which penalize small observation counts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE</span><span class="o">^</span><span class="mi">2</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">count</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>This is called an independent model.</p>
</div></blockquote>
<p>James-Stein estimator has, however, one practical limitation - it was defined
only for normal distributions. If you want to apply it for binary classification,
which allows only values {0, 1}, it is better to first convert the mean target value
from the bound interval &lt;0,1&gt; into an unbounded interval by replacing mean(y)
with log-odds ratio:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log</span><span class="o">-</span><span class="n">odds_ratio_i</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">mean</span><span class="p">(</span><span class="n">y_i</span><span class="p">)</span><span class="o">/</span><span class="n">mean</span><span class="p">(</span><span class="n">y_not_i</span><span class="p">))</span>
</pre></div>
</div>
<p>This is called binary model. The estimation of parameters of this model is, however,
tricky and sometimes it fails fatally. In these situations, it is better to use beta
model, which generally delivers slightly worse accuracy than binary model but does
not suffer from fatal failures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop encoded columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘return_nan’, ‘error’ and ‘value’, defaults to ‘value’, which returns the prior probability.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘return_nan’, ‘error’ and ‘value’, defaults to ‘value’, which returns the prior probability.</p></li>
<li><p><strong>model</strong> (<em>str</em>) – options are ‘pooled’, ‘beta’, ‘binary’ and ‘independent’, defaults to ‘independent’.</p></li>
<li><p><strong>randomized</strong> (<em>bool</em><em>,</em>) – adds normal (Gaussian) distribution noise into training data in order to decrease overfitting (testing data are untouched).</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation (spread or “width”) of the normal distribution.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">JamesSteinEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 13 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS       506 non-null float64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD        506 non-null float64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(13)</span>
<span class="go">memory usage: 51.5 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id10"><span class="brackets">1</span></dt>
<dd><p>Parametric empirical Bayes inference: Theory and applications, equations 1.19 &amp; 1.20, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://www.jstor.org/stable/2287098">https://www.jstor.org/stable/2287098</a></p>
<dl class="footnote brackets">
<dt class="label" id="id11"><span class="brackets">2</span></dt>
<dd><p>Empirical Bayes for multiple sample sizes, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://chris-said.io/2017/05/03/empirical-bayes-for-multiple-sample-sizes/">http://chris-said.io/2017/05/03/empirical-bayes-for-multiple-sample-sizes/</a></p>
<dl class="footnote brackets">
<dt class="label" id="id12"><span class="brackets">3</span></dt>
<dd><p>Shrinkage Estimation of Log-odds Ratios for Comparing Mobility Tables, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://journals.sagepub.com/doi/abs/10.1177/0081175015570097">https://journals.sagepub.com/doi/abs/10.1177/0081175015570097</a></p>
<dl class="footnote brackets">
<dt class="label" id="id13"><span class="brackets">4</span></dt>
<dd><p>Stein’s paradox and group rationality, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://www.philos.rug.nl/~romeyn/presentation/">http://www.philos.rug.nl/~romeyn/presentation/</a><a href="#id30"><span class="problematic" id="id31">2017_romeijn_</span></a>-_Paris_Stein.pdf</p>
<dl class="footnote brackets">
<dt class="label" id="id14"><span class="brackets">5</span></dt>
<dd><p>Stein’s Paradox in Statistics, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://statweb.stanford.edu/~ckirby/brad/other/Article1977.pdf">http://statweb.stanford.edu/~ckirby/brad/other/Article1977.pdf</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.JamesSteinEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/james_stein.html#JamesSteinEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.JamesSteinEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and binary y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Binary target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.JamesSteinEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/james_stein.html#JamesSteinEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.JamesSteinEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.JamesSteinEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/james_stein.html#JamesSteinEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.JamesSteinEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data. When the data are used for model training,
it is important to also pass the target in order to apply leave one out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>] </em><em>when transform by leave one out</em>) – None, when transform without target information (such as transform test set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.LeaveOneOutEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">LeaveOneOutEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.LeaveOneOutEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">category_encoders.utils.TransformerWithTargetMixin</span></code></p>
<p>Leave one out coding for categorical features.</p>
<p>This is very similar to target encoding but excludes the current row’s
target when calculating the mean target for a level to reduce the effect
of outliers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’  and ‘value’, defaults to ‘value’, which returns the target mean.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’ and ‘value’, defaults to ‘value’, which returns the target mean.</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – adds normal (Gaussian) distribution noise into training data in order to decrease overfitting (testing
data are untouched). Sigma gives the standard deviation (spread or “width”) of the normal distribution.
The optimal value is commonly between 0.05 and 0.6. The default is to not add noise, but that leads
to significantly suboptimal results.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">LeaveOneOutEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 13 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS       506 non-null float64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD        506 non-null float64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(13)</span>
<span class="go">memory usage: 51.5 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id15"><span class="brackets">1</span></dt>
<dd><p>Strategies to encode categorical variables with many categories, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://www.kaggle.com/c/caterpillar-tube-pricing/discussion/15748#143154">https://www.kaggle.com/c/caterpillar-tube-pricing/discussion/15748#143154</a>.</p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.LeaveOneOutEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.LeaveOneOutEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.LeaveOneOutEncoder.fit_column_map">
<code class="sig-name descname"><span class="pre">fit_column_map</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.fit_column_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.LeaveOneOutEncoder.fit_column_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.LeaveOneOutEncoder.fit_leave_one_out">
<code class="sig-name descname"><span class="pre">fit_leave_one_out</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.fit_leave_one_out"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.LeaveOneOutEncoder.fit_leave_one_out" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.LeaveOneOutEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.LeaveOneOutEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.LeaveOneOutEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.LeaveOneOutEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>] </em><em>when transform by leave one out</em>) – None, when transform without target information (such as transform test set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.LeaveOneOutEncoder.transform_leave_one_out">
<code class="sig-name descname"><span class="pre">transform_leave_one_out</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/leave_one_out.html#LeaveOneOutEncoder.transform_leave_one_out"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.LeaveOneOutEncoder.transform_leave_one_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Leave one out encoding uses a single column of floats to represent the means of the target variables.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.MEstimateEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">MEstimateEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/m_estimate.html#MEstimateEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.MEstimateEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">category_encoders.utils.TransformerWithTargetMixin</span></code></p>
<p>M-probability estimate of likelihood.</p>
<p>This is a simplified version of target encoder, which goes under names like m-probability estimate or
additive smoothing with known incidence rates. In comparison to target encoder, m-probability estimate
has only one tunable parameter (<cite>m</cite>), while target encoder has two tunable parameters (<cite>min_samples_leaf</cite>
and <cite>smoothing</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop encoded columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘return_nan’, ‘error’ and ‘value’, defaults to ‘value’, which returns the prior probability.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘return_nan’, ‘error’ and ‘value’, defaults to ‘value’, which returns the prior probability.</p></li>
<li><p><strong>randomized</strong> (<em>bool</em><em>,</em>) – adds normal (Gaussian) distribution noise into training data in order to decrease overfitting (testing data are untouched).</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation (spread or “width”) of the normal distribution.</p></li>
<li><p><strong>m</strong> (<em>float</em>) – this is the “m” in the m-probability estimate. Higher value of m results into stronger shrinking.
M is non-negative.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span> <span class="o">&gt;</span> <span class="mf">22.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">MEstimateEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 13 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS       506 non-null float64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD        506 non-null float64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(13)</span>
<span class="go">memory usage: 51.5 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id16"><span class="brackets">1</span></dt>
<dd><p>A Preprocessing Scheme for High-Cardinality Categorical Attributes in Classification and Prediction Problems, equation 7, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://dl.acm.org/citation.cfm?id=507538">https://dl.acm.org/citation.cfm?id=507538</a></p>
<dl class="footnote brackets">
<dt class="label" id="id17"><span class="brackets">2</span></dt>
<dd><p>On estimating probabilities in tree pruning, equation 1, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://link.springer.com/chapter/10.1007/BFb0017010">https://link.springer.com/chapter/10.1007/BFb0017010</a></p>
<dl class="footnote brackets">
<dt class="label" id="id18"><span class="brackets">3</span></dt>
<dd><p>Additive smoothing, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Additive_smoothing#Generalized_to_the_case_of_known_incidence_rates">https://en.wikipedia.org/wiki/Additive_smoothing#Generalized_to_the_case_of_known_incidence_rates</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.MEstimateEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/m_estimate.html#MEstimateEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.MEstimateEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and binary y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Binary target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.MEstimateEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/m_estimate.html#MEstimateEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.MEstimateEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.MEstimateEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/m_estimate.html#MEstimateEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.MEstimateEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<p>When the data are used for model training, it is important to also pass the target in order to apply leave one out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>] </em><em>when transform by leave one out</em>) – None, when transform without target information (such as transform test set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">OneHotEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cat_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/one_hot.html#OneHotEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Onehot (or dummy) coding for categorical features, produces one feature per category, each binary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>use_cat_names</strong> (<em>bool</em>) – if True, category values will be included in the encoded column names. Since this can result in duplicate column names, duplicates are suffixed with ‘#’ symbol until a unique name is generated.
If False, category indices will be used instead of the category values.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has unknown categories.  This can cause
unexpected changes in dimension in some cases.</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has nan values.  This can cause
unexpected changes in dimension in some cases.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">],</span> <span class="n">handle_unknown</span><span class="o">=</span><span class="s1">&#39;indicator&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 24 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS_1     506 non-null int64</span>
<span class="go">CHAS_2     506 non-null int64</span>
<span class="go">CHAS_-1    506 non-null int64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD_1      506 non-null int64</span>
<span class="go">RAD_2      506 non-null int64</span>
<span class="go">RAD_3      506 non-null int64</span>
<span class="go">RAD_4      506 non-null int64</span>
<span class="go">RAD_5      506 non-null int64</span>
<span class="go">RAD_6      506 non-null int64</span>
<span class="go">RAD_7      506 non-null int64</span>
<span class="go">RAD_8      506 non-null int64</span>
<span class="go">RAD_9      506 non-null int64</span>
<span class="go">RAD_-1     506 non-null int64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(11), int64(13)</span>
<span class="go">memory usage: 95.0 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id19"><span class="brackets">1</span></dt>
<dd><p>Contrast Coding Systems for Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/">https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/</a></p>
<dl class="footnote brackets">
<dt class="label" id="id20"><span class="brackets">2</span></dt>
<dd><p>Gregory Carey (2003). Coding Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf">http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder.category_mapping">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">category_mapping</span></code><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder.category_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/one_hot.html#OneHotEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder.generate_mapping">
<code class="sig-name descname"><span class="pre">generate_mapping</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/one_hot.html#OneHotEncoder.generate_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder.generate_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder.get_dummies">
<code class="sig-name descname"><span class="pre">get_dummies</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/one_hot.html#OneHotEncoder.get_dummies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder.get_dummies" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert numerical variable into dummy variables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X_in</strong> (<em>DataFrame</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dummies</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/one_hot.html#OneHotEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder.inverse_transform">
<code class="sig-name descname"><span class="pre">inverse_transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/one_hot.html#OneHotEncoder.inverse_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder.inverse_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the inverse transformation to encoded data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X_in</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, the same size of X_in</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder.reverse_dummies">
<code class="sig-name descname"><span class="pre">reverse_dummies</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/one_hot.html#OneHotEncoder.reverse_dummies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder.reverse_dummies" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert dummy variable into numerical variables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>DataFrame</em>) – </p></li>
<li><p><strong>mapping</strong> (<em>list-like</em>) – Contains mappings of column to be transformed to it’s new columns and value represented</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>numerical</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OneHotEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/one_hot.html#OneHotEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OneHotEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.OrdinalEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">OrdinalEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/ordinal.html#OrdinalEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OrdinalEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Encodes categorical features as ordinal, in one ordered feature.</p>
<p>Ordinal encoding uses a single column of integers to represent the classes. An optional mapping dict can be passed
in; in this case, we use the knowledge that there is some true order to the classes themselves. Otherwise, the classes
are assumed to have no true order and integers are selected at random.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>mapping</strong> (<em>list of dicts</em>) – <p>a mapping of class to label to use for the encoding, optional.
the dict contains the keys ‘col’ and ‘mapping’.
the value of ‘col’ should be the feature name.
the value of ‘mapping’ should be a dictionary of ‘original_label’ to ‘encoded_label’.
example mapping: [</p>
<blockquote>
<div><p>{‘col’: ‘col1’, ‘mapping’: {None: 0, ‘a’: 1, ‘b’: 2}},
{‘col’: ‘col2’, ‘mapping’: {None: 0, ‘x’: 1, ‘y’: 2}}</p>
</div></blockquote>
<p>]</p>
</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’ and ‘value’, defaults to ‘value’, which will impute the category -1.</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, and ‘value, default to ‘value’, which treat nan as a category at fit time,
or -2 at transform time if nan is not a category during fit.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">OrdinalEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 13 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS       506 non-null int64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD        506 non-null int64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(11), int64(2)</span>
<span class="go">memory usage: 51.5 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id21"><span class="brackets">1</span></dt>
<dd><p>Contrast Coding Systems for Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/">https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/</a></p>
<dl class="footnote brackets">
<dt class="label" id="id22"><span class="brackets">2</span></dt>
<dd><p>Gregory Carey (2003). Coding Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf">http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OrdinalEncoder.category_mapping">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">category_mapping</span></code><a class="headerlink" href="#ballet.eng.external.category_encoders.OrdinalEncoder.category_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OrdinalEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/ordinal.html#OrdinalEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OrdinalEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OrdinalEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/ordinal.html#OrdinalEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OrdinalEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OrdinalEncoder.inverse_transform">
<code class="sig-name descname"><span class="pre">inverse_transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/ordinal.html#OrdinalEncoder.inverse_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OrdinalEncoder.inverse_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the inverse transformation to encoded data. Will attempt best case reconstruction, which means
it will return nan for handle_missing and handle_unknown settings that break the bijection. We issue
warnings when some of those cases occur.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X_in</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, the same size of X_in</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OrdinalEncoder.ordinal_encoding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">ordinal_encoding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/ordinal.html#OrdinalEncoder.ordinal_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OrdinalEncoder.ordinal_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Ordinal encoding uses a single column of integers to represent the classes. An optional mapping dict can be passed
in, in this case we use the knowledge that there is some true order to the classes themselves. Otherwise, the classes
are assumed to have no true order and integers are selected at random.</p>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.OrdinalEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/ordinal.html#OrdinalEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.OrdinalEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<p>Will use the mapping (if available) and the column list (if available, otherwise every column) to encode the
data ordinarily.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.PolynomialEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">PolynomialEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/polynomial.html#PolynomialEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.PolynomialEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Polynomial contrast coding for the encoding of categorical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has unknown categories.  This can cause
unexpected changes in dimension in some cases.</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has nan values.  This can cause
unexpected changes in dimension in some cases.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">PolynomialEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 21 columns):</span>
<span class="go">intercept    506 non-null int64</span>
<span class="go">CRIM         506 non-null float64</span>
<span class="go">ZN           506 non-null float64</span>
<span class="go">INDUS        506 non-null float64</span>
<span class="go">CHAS_0       506 non-null float64</span>
<span class="go">NOX          506 non-null float64</span>
<span class="go">RM           506 non-null float64</span>
<span class="go">AGE          506 non-null float64</span>
<span class="go">DIS          506 non-null float64</span>
<span class="go">RAD_0        506 non-null float64</span>
<span class="go">RAD_1        506 non-null float64</span>
<span class="go">RAD_2        506 non-null float64</span>
<span class="go">RAD_3        506 non-null float64</span>
<span class="go">RAD_4        506 non-null float64</span>
<span class="go">RAD_5        506 non-null float64</span>
<span class="go">RAD_6        506 non-null float64</span>
<span class="go">RAD_7        506 non-null float64</span>
<span class="go">TAX          506 non-null float64</span>
<span class="go">PTRATIO      506 non-null float64</span>
<span class="go">B            506 non-null float64</span>
<span class="go">LSTAT        506 non-null float64</span>
<span class="go">dtypes: float64(20), int64(1)</span>
<span class="go">memory usage: 83.1 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id23"><span class="brackets">1</span></dt>
<dd><p>Contrast Coding Systems for Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/">https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/</a></p>
<dl class="footnote brackets">
<dt class="label" id="id24"><span class="brackets">2</span></dt>
<dd><p>Gregory Carey (2003). Coding Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf">http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.PolynomialEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/polynomial.html#PolynomialEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.PolynomialEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.PolynomialEncoder.fit_polynomial_coding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fit_polynomial_coding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/polynomial.html#PolynomialEncoder.fit_polynomial_coding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.PolynomialEncoder.fit_polynomial_coding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.PolynomialEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/polynomial.html#PolynomialEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.PolynomialEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.PolynomialEncoder.polynomial_coding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">polynomial_coding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/polynomial.html#PolynomialEncoder.polynomial_coding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.PolynomialEncoder.polynomial_coding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.PolynomialEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/polynomial.html#PolynomialEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.PolynomialEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.SumEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">SumEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/sum_coding.html#SumEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.SumEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.TransformerMixin</span></code></p>
<p>Sum contrast coding for the encoding of categorical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has unknown categories.  This can cause
unexpected changes in dimension in some cases.</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’, ‘value’, and ‘indicator’. The default is ‘value’. Warning: if indicator is used,
an extra column will be added in if the transform matrix has nan values.  This can cause
unexpected changes in dimension in some cases.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">SumEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 21 columns):</span>
<span class="go">intercept    506 non-null int64</span>
<span class="go">CRIM         506 non-null float64</span>
<span class="go">ZN           506 non-null float64</span>
<span class="go">INDUS        506 non-null float64</span>
<span class="go">CHAS_0       506 non-null float64</span>
<span class="go">NOX          506 non-null float64</span>
<span class="go">RM           506 non-null float64</span>
<span class="go">AGE          506 non-null float64</span>
<span class="go">DIS          506 non-null float64</span>
<span class="go">RAD_0        506 non-null float64</span>
<span class="go">RAD_1        506 non-null float64</span>
<span class="go">RAD_2        506 non-null float64</span>
<span class="go">RAD_3        506 non-null float64</span>
<span class="go">RAD_4        506 non-null float64</span>
<span class="go">RAD_5        506 non-null float64</span>
<span class="go">RAD_6        506 non-null float64</span>
<span class="go">RAD_7        506 non-null float64</span>
<span class="go">TAX          506 non-null float64</span>
<span class="go">PTRATIO      506 non-null float64</span>
<span class="go">B            506 non-null float64</span>
<span class="go">LSTAT        506 non-null float64</span>
<span class="go">dtypes: float64(20), int64(1)</span>
<span class="go">memory usage: 83.1 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id25"><span class="brackets">1</span></dt>
<dd><p>Contrast Coding Systems for Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/">https://stats.idre.ucla.edu/r/library/r-library-contrast-coding-systems-for-categorical-variables/</a></p>
<dl class="footnote brackets">
<dt class="label" id="id26"><span class="brackets">2</span></dt>
<dd><p>Gregory Carey (2003). Coding Categorical Variables, from</p>
</dd>
</dl>
<p><a class="reference external" href="http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf">http://psych.colorado.edu/~carey/Courses/PSYC5741/handouts/Coding%20Categorical%20Variables%202006-03-03.pdf</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.SumEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/sum_coding.html#SumEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.SumEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.SumEncoder.fit_sum_coding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">fit_sum_coding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/sum_coding.html#SumEncoder.fit_sum_coding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.SumEncoder.fit_sum_coding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.SumEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/sum_coding.html#SumEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.SumEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.SumEncoder.sum_coding">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">sum_coding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/sum_coding.html#SumEncoder.sum_coding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.SumEncoder.sum_coding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.SumEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/sum_coding.html#SumEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.SumEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.TargetEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">TargetEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_samples_leaf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/target_encoder.html#TargetEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.TargetEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">category_encoders.utils.TransformerWithTargetMixin</span></code></p>
<p>Target encoding for categorical features.</p>
<p>For the case of categorical target: features are replaced with a blend of posterior probability of the target
given particular categorical value and the prior probability of the target over all the training data.</p>
<p>For the case of continuous target: features are replaced with a blend of the expected value of the target
given particular categorical value and the expected value of the target over all the training data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’  and ‘value’, defaults to ‘value’, which returns the target mean.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘error’, ‘return_nan’ and ‘value’, defaults to ‘value’, which returns the target mean.</p></li>
<li><p><strong>min_samples_leaf</strong> (<em>int</em>) – minimum samples to take category average into account.</p></li>
<li><p><strong>smoothing</strong> (<em>float</em>) – smoothing effect to balance categorical average vs prior. Higher value means stronger regularization.
The value must be strictly bigger than 0.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">TargetEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 13 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS       506 non-null float64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD        506 non-null float64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(13)</span>
<span class="go">memory usage: 51.5 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id27"><span class="brackets">1</span></dt>
<dd><p>A Preprocessing Scheme for High-Cardinality Categorical Attributes in Classification and Prediction Problems, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://dl.acm.org/citation.cfm?id=507538">https://dl.acm.org/citation.cfm?id=507538</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.TargetEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/target_encoder.html#TargetEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.TargetEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.TargetEncoder.fit_target_encoding">
<code class="sig-name descname"><span class="pre">fit_target_encoding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/target_encoder.html#TargetEncoder.fit_target_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.TargetEncoder.fit_target_encoding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.TargetEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/target_encoder.html#TargetEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.TargetEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.TargetEncoder.target_encode">
<code class="sig-name descname"><span class="pre">target_encode</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_in</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/target_encoder.html#TargetEncoder.target_encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.TargetEncoder.target_encode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.TargetEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/target_encoder.html#TargetEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.TargetEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>] </em><em>when transform by leave one out</em>) – None, when transform without target info (such as transform test set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ballet.eng.external.category_encoders.WOEEncoder">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ballet.eng.external.category_encoders.</span></code><code class="sig-name descname"><span class="pre">WOEEncoder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_invariant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handle_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regularization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/woe.html#WOEEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.WOEEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">category_encoders.utils.TransformerWithTargetMixin</span></code></p>
<p>Weight of Evidence coding for categorical features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong> (<em>int</em>) – integer indicating verbosity of the output. 0 for none.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – a list of columns to encode, if None, all string columns will be encoded.</p></li>
<li><p><strong>drop_invariant</strong> (<em>bool</em>) – boolean for whether or not to drop columns with 0 variance.</p></li>
<li><p><strong>return_df</strong> (<em>bool</em>) – boolean for whether to return a pandas DataFrame from transform (otherwise it will be a numpy array).</p></li>
<li><p><strong>handle_missing</strong> (<em>str</em>) – options are ‘return_nan’, ‘error’ and ‘value’, defaults to ‘value’, which will assume WOE=0.</p></li>
<li><p><strong>handle_unknown</strong> (<em>str</em>) – options are ‘return_nan’, ‘error’ and ‘value’, defaults to ‘value’, which will assume WOE=0.</p></li>
<li><p><strong>randomized</strong> (<em>bool</em><em>,</em>) – adds normal (Gaussian) distribution noise into training data in order to decrease overfitting (testing data are untouched).</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation (spread or “width”) of the normal distribution.</p></li>
<li><p><strong>regularization</strong> (<em>float</em>) – the purpose of regularization is mostly to prevent division by zero.
When regularization is 0, you may encounter division by zero.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">category_encoders</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bunch</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">bunch</span><span class="o">.</span><span class="n">target</span> <span class="o">&gt;</span> <span class="mf">22.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc</span> <span class="o">=</span> <span class="n">WOEEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CHAS&#39;</span><span class="p">,</span> <span class="s1">&#39;RAD&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numeric_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">numeric_dataset</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 506 entries, 0 to 505</span>
<span class="go">Data columns (total 13 columns):</span>
<span class="go">CRIM       506 non-null float64</span>
<span class="go">ZN         506 non-null float64</span>
<span class="go">INDUS      506 non-null float64</span>
<span class="go">CHAS       506 non-null float64</span>
<span class="go">NOX        506 non-null float64</span>
<span class="go">RM         506 non-null float64</span>
<span class="go">AGE        506 non-null float64</span>
<span class="go">DIS        506 non-null float64</span>
<span class="go">RAD        506 non-null float64</span>
<span class="go">TAX        506 non-null float64</span>
<span class="go">PTRATIO    506 non-null float64</span>
<span class="go">B          506 non-null float64</span>
<span class="go">LSTAT      506 non-null float64</span>
<span class="go">dtypes: float64(13)</span>
<span class="go">memory usage: 51.5 KB</span>
<span class="go">None</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id28"><span class="brackets">1</span></dt>
<dd><p>Weight of Evidence (WOE) and Information Value Explained, from</p>
</dd>
</dl>
<p><a class="reference external" href="https://www.listendata.com/2015/03/weight-of-evidence-woe-and-information.html">https://www.listendata.com/2015/03/weight-of-evidence-woe-and-information.html</a></p>
<dl class="py method">
<dt id="ballet.eng.external.category_encoders.WOEEncoder.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/woe.html#WOEEncoder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.WOEEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit encoder according to X and binary y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Training vectors, where n_samples is the number of samples
and n_features is the number of features.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>]</em>) – Binary target values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>encoder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.WOEEncoder.get_feature_names">
<code class="sig-name descname"><span class="pre">get_feature_names</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/woe.html#WOEEncoder.get_feature_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.WOEEncoder.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of all transformed / added columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>feature_names</strong> – A list with all feature names transformed or added.
Note: potentially dropped features are not included!</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ballet.eng.external.category_encoders.WOEEncoder.transform">
<code class="sig-name descname"><span class="pre">transform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_return_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/category_encoders/woe.html#WOEEncoder.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ballet.eng.external.category_encoders.WOEEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transformation to new categorical data. When the data are used for model training,
it is important to also pass the target in order to apply leave one out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – </p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape =</em><em> [</em><em>n_samples</em><em>] </em><em>when transform by leave one out</em>) – None, when transform without target information (such as transform test set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong> – Transformed values with encoding applied.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array, shape = [n_samples, n_numeric + N]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ballet.eng.external.feature_engine.html" class="btn btn-neutral float-right" title="ballet.eng.external.feature_engine module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ballet.eng.external.html" class="btn btn-neutral float-left" title="ballet.eng.external package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018, Micah Smith.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>